# CI environment â€” safe non-secret defaults for GitHub Actions runners.
# This file is committed intentionally; it contains no real secrets.

# Application
APP_NAME=url-shortener
APP_ENV=development
BASE_URL=http://localhost:8000

# PostgreSQL
POSTGRES_USER=urlshortener
POSTGRES_PASSWORD=urlshortener
POSTGRES_DB=urlshortener
DATABASE_URL=postgresql+asyncpg://urlshortener:urlshortener@db:5432/urlshortener

# Redis
REDIS_URL=redis://redis:6379/0

# Short URL config
SHORT_CODE_LENGTH=7

# Kafka
KAFKA_BOOTSTRAP_SERVERS=kafka:9092
KAFKA_CLICK_TOPIC=click_events

# ClickHouse
CLICKHOUSE_URL=http://clickhouse:8123
CLICKHOUSE_USERNAME=default
CLICKHOUSE_PASSWORD=
CLICKHOUSE_DATABASE=default

# Ingestion worker
INGESTION_CONSUMER_GROUP=click_ingestion_group
INGESTION_CONSUMER_NAME=ingestion-1
INGESTION_BATCH_SIZE=100
INGESTION_BLOCK_MS=1000
INGESTION_FLUSH_INTERVAL_SECONDS=5
INGESTION_AGG_KEY_PREFIX=ingestion_agg
INGESTION_METRICS_PORT=9200

# Cache
CLICK_BUFFER_KEY_PREFIX=click_buffer
CLICK_BUFFER_TTL_SECONDS=3600
CLICK_STREAM_KEY=click_stream
CACHE_WARMER_INTERVAL_SECONDS=30
CACHE_WARMER_TOP_N=5000
CACHE_LOCK_TTL_SECONDS=3
CACHE_LOCK_RETRY_COUNT=3
CACHE_LOCK_RETRY_DELAY_SECONDS=0.1
