# CI environment â€” safe non-secret defaults for GitHub Actions runners.
# This file is committed intentionally; it contains no real secrets.
# IMPORTANT: only fields declared in app/config.py Settings are listed here.
# Extra fields cause a Pydantic ValidationError (extra=forbid).

APP_NAME=url-shortener
APP_ENV=development
BASE_URL=http://localhost:8000

POSTGRES_USER=urlshortener
POSTGRES_PASSWORD=urlshortener
POSTGRES_DB=urlshortener
DATABASE_URL=postgresql+asyncpg://urlshortener:urlshortener@db:5432/urlshortener

REDIS_URL=redis://redis:6379/0
REDIS_REPLICA_URL=redis://redis-replica:6379/0

SHORT_CODE_LENGTH=7
ID_ALLOCATOR_KEY=id_allocator:url
ID_BLOCK_SIZE=1000
KEYGEN_SERVICE_URL=http://keygen:8010
KEYGEN_PRIMARY_REDIS_URL=redis://keygen-redis-primary:6379/0
KEYGEN_SECONDARY_REDIS_URL=redis://keygen-redis-secondary:6379/0

CLICK_BUFFER_KEY_PREFIX=click_buffer
CLICK_BUFFER_TTL_SECONDS=300
CLICK_FLUSH_THRESHOLD=100
CLICK_STREAM_KEY=click_events
INGESTION_CONSUMER_GROUP=click_ingestion_group
INGESTION_CONSUMER_NAME=ingestion-consumer-1
INGESTION_BATCH_SIZE=500
INGESTION_BLOCK_MS=1000
INGESTION_FLUSH_INTERVAL_SECONDS=5
INGESTION_AGG_KEY_PREFIX=ingestion_agg

KAFKA_BOOTSTRAP_SERVERS=kafka:9092
KAFKA_CLICK_TOPIC=click_events

CLICKHOUSE_URL=http://clickhouse:8123
CLICKHOUSE_USERNAME=default
CLICKHOUSE_PASSWORD=clickhouse
CLICKHOUSE_DATABASE=default

CACHE_WARMER_INTERVAL_SECONDS=30
CACHE_WARMER_TOP_N=5000

CACHE_LOCK_TTL_SECONDS=3
CACHE_LOCK_RETRY_COUNT=3
CACHE_LOCK_RETRY_DELAY_SECONDS=0.05
